<div class="container-fluid mt-4">
  <!-- Ana istatistik kartları -->
  <div class="row mb-4">
    <div class="col-md-3">
      <div class="card shadow-sm border-0 bg-info text-white h-100">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h6 class="text-uppercase fw-bold mb-1">Toplam Ürün</h6>
              <h3 class="fw-bold mb-0">{{ productCount || '0' }}</h3>
              <div class="text-white-50 mt-2">Son 24 saatte: +{{ newProducts || '0' }}</div>
            </div>
            <div class="bg-white bg-opacity-25 p-3 rounded">
              <i class="fa-solid fa-box fa-2x text-white"></i>
            </div>
          </div>
        </div>
        <div class="card-footer bg-transparent border-top border-white border-opacity-25 py-2">
          <a routerLink="/admin/products" class="text-white d-flex align-items-center">
            <span>Ürünleri Yönet</span>
            <i class="fa-solid fa-arrow-right ms-auto"></i>
          </a>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card shadow-sm border-0 bg-success text-white h-100">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h6 class="text-uppercase fw-bold mb-1">Toplam Satış</h6>
              <h3 class="fw-bold mb-0">{{ totalSales || '0' }}₺</h3>
              <div class="text-white-50 mt-2">Son 7 günde: {{ weeklySales || '0' }}₺</div>
            </div>
            <div class="bg-white bg-opacity-25 p-3 rounded">
              <i class="fa-solid fa-shopping-cart fa-2x text-white"></i>
            </div>
          </div>
        </div>
        <div class="card-footer bg-transparent border-top border-white border-opacity-25 py-2">
          <a routerLink="/admin/orders" class="text-white d-flex align-items-center">
            <span>Siparişleri Yönet</span>
            <i class="fa-solid fa-arrow-right ms-auto"></i>
          </a>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card shadow-sm border-0 bg-warning text-white h-100">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h6 class="text-uppercase fw-bold mb-1">Toplam Müşteri</h6>
              <h3 class="fw-bold mb-0">{{ customerCount || '0' }}</h3>
              <div class="text-white-50 mt-2">Son 30 günde: +{{ newCustomers || '0' }}</div>
            </div>
            <div class="bg-white bg-opacity-25 p-3 rounded">
              <i class="fa-solid fa-users fa-2x text-white"></i>
            </div>
          </div>
        </div>
        <div class="card-footer bg-transparent border-top border-white border-opacity-25 py-2">
          <a routerLink="/admin/customers" class="text-white d-flex align-items-center">
            <span>Müşterileri Yönet</span>
            <i class="fa-solid fa-arrow-right ms-auto"></i>
          </a>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card shadow-sm border-0 bg-danger text-white h-100">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h6 class="text-uppercase fw-bold mb-1">Bekleyen Sipariş</h6>
              <h3 class="fw-bold mb-0">{{ pendingOrders || '0' }}</h3>
              <div class="text-white-50 mt-2">İşlem bekleyen</div>
            </div>
            <div class="bg-white bg-opacity-25 p-3 rounded">
              <i class="fa-solid fa-clock fa-2x text-white"></i>
            </div>
          </div>
        </div>
        <div class="card-footer bg-transparent border-top border-white border-opacity-25 py-2">
          <a routerLink="/admin/orders" class="text-white d-flex align-items-center">
            <span>Bekleyen Siparişler</span>
            <i class="fa-solid fa-arrow-right ms-auto"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Hızlı işlemler ve son aktiviteler -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-header bg-white py-3">
          <h5 class="mb-0 fw-bold">Hızlı İşlemler</h5>
        </div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-6">
              <a routerLink="/admin/products/create" class="card bg-light text-center p-3 text-decoration-none text-dark h-100">
                <i class="fa-solid fa-plus-circle fa-2x mb-2 text-primary"></i>
                <h6 class="mb-0">Yeni Ürün Ekle</h6>
              </a>
            </div>
            <div class="col-6">
              <a routerLink="/admin/products" class="card bg-light text-center p-3 text-decoration-none text-dark h-100">
                <i class="fa-solid fa-list fa-2x mb-2 text-primary"></i>
                <h6 class="mb-0">Ürünleri Listele</h6>
              </a>
            </div>
            <div class="col-6">
              <a routerLink="/admin/orders" class="card bg-light text-center p-3 text-decoration-none text-dark h-100">
                <i class="fa-solid fa-shopping-bag fa-2x mb-2 text-primary"></i>
                <h6 class="mb-0">Siparişleri Yönet</h6>
              </a>
            </div>
            <div class="col-6">
              <a routerLink="/admin/customers" class="card bg-light text-center p-3 text-decoration-none text-dark h-100">
                <i class="fa-solid fa-user-cog fa-2x mb-2 text-primary"></i>
                <h6 class="mb-0">Müşteri Yönetimi</h6>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
          <h5 class="mb-0 fw-bold">Son Aktiviteler</h5>
          <button class="btn btn-sm btn-outline-primary">Tümünü Gör</button>
        </div>
        <div class="card-body p-0">
          <div class="list-group list-group-flush">
            <div class="list-group-item py-3 d-flex align-items-center">
              <div class="bg-success bg-opacity-10 p-2 rounded me-3">
                <i class="fa-solid fa-shopping-cart text-success"></i>
              </div>
              <div class="flex-grow-1">
                <h6 class="mb-0">Yeni sipariş alındı</h6>
                <small class="text-muted">Sipariş #12345 - Ali Yılmaz tarafından</small>
              </div>
              <small class="text-muted">5 dk önce</small>
            </div>
            <div class="list-group-item py-3 d-flex align-items-center">
              <div class="bg-info bg-opacity-10 p-2 rounded me-3">
                <i class="fa-solid fa-user text-info"></i>
              </div>
              <div class="flex-grow-1">
                <h6 class="mb-0">Yeni kullanıcı kaydoldu</h6>
                <small class="text-muted">Mehmet Demir - mehmet&#64;example.com</small>
              </div>
              <small class="text-muted">2 saat önce</small>
            </div>
            <div class="list-group-item py-3 d-flex align-items-center">
              <div class="bg-warning bg-opacity-10 p-2 rounded me-3">
                <i class="fa-solid fa-box text-warning"></i>
              </div>
              <div class="flex-grow-1">
                <h6 class="mb-0">Ürün stoku azaldı</h6>
                <small class="text-muted">Samsung Galaxy S21 - Kalan stok: 3</small>
              </div>
              <small class="text-muted">1 gün önce</small>
            </div>
            <div class="list-group-item py-3 d-flex align-items-center">
              <div class="bg-primary bg-opacity-10 p-2 rounded me-3">
                <i class="fa-solid fa-star text-primary"></i>
              </div>
              <div class="flex-grow-1">
                <h6 class="mb-0">Yeni inceleme eklendi</h6>
                <small class="text-muted">iPhone 13 Pro Max - 5 yıldız</small>
              </div>
              <small class="text-muted">3 gün önce</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- API Test Paneli -->
  <div class="row">
    <div class="col-12">
      <div class="card shadow-sm border-0">
        <div class="card-header bg-white py-3">
          <h5 class="mb-0 fw-bold">API Test Paneli</h5>
        </div>
        <div class="card-body">
          <p>API bağlantı durumunu test etmek için aşağıdaki butonu kullanabilirsiniz.</p>
          <button class="btn btn-primary me-2" (click)="testProductsAPI()">
            <i class="fa-solid fa-plug me-2"></i>Test Products API
          </button>
          <button class="btn btn-outline-secondary" (click)="clearAPIResponse()">
            <i class="fa-solid fa-eraser me-2"></i>Temizle
          </button>

          <div *ngIf="apiTestResult" class="mt-3">
            <div class="alert" [class.alert-success]="apiTestSuccess" [class.alert-danger]="!apiTestSuccess">
              <p><strong>Status:</strong> {{apiTestSuccess ? 'Başarılı' : 'Başarısız'}}</p>
              <pre class="mt-2 p-2 bg-light" style="max-height: 200px; overflow: auto;">{{getApiResultText()}}</pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

